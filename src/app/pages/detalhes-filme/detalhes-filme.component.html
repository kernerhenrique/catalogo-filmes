<div *ngIf="filme; else loading" class="filme-detalhes-page">
    <!-- Hero com imagem de fundo -->
    <div class="hero"
        [ngStyle]="{ 'background-image': 'url(https://image.tmdb.org/t/p/original' + filme.backdrop_path + ')' }">
        <div class="hero-overlay">
            <h1 class="hero-title">{{ filme.title }}</h1>
            <p class="hero-subtitle">{{ filme.release_date }} • {{ filme.runtime }} min</p>
        </div>
    </div>

    <!-- Conteúdo de detalhes -->
    <div class="detalhes-conteudo">
        <img class="poster" [src]="'https://image.tmdb.org/t/p/w500' + filme.poster_path" alt="{{ filme.title }}" />

        <div class="info">
            <h2>Sinopse</h2>
            <p class="overview">{{ filme.overview }}</p>

            <div class="info-extra">
                <p><strong>Gêneros:</strong> {{ generoNomes }}</p>
                <p><strong>Nota:</strong> {{ filme.vote_average }}</p>
            </div>
            <div class="acoes">
                <button mat-raised-button color="primary" class="acao-btn" (click)="assistirTrailer()">
                    ▶ Assistir Trailer
                </button>

                <button mat-stroked-button color="accent" class="acao-btn">
                    ❤️ Favoritar
                </button>
            </div>

            <div class="avaliacao">
                <p><strong>Avaliação:</strong></p>
                <div class="estrelas">
                    <ng-container *ngFor="let star of [1,2,3,4,5]">
                        <mat-icon [class.ativa]="star <= roundedRating">star</mat-icon>
                    </ng-container>
                    <span class="nota">({{ filme.vote_average }})</span>
                </div>
            </div>
            <button mat-button class="voltar-btn" (click)="voltar()">← Voltar</button>
        </div>
    </div>
</div>

<ng-template #loading>
    <div class="loading">Carregando detalhes do filme...</div>
</ng-template>



<ng-template #loading>
    <p>Carregando detalhes...</p>
</ng-template>